{"version":3,"file":"static/js/13.bbe34b30.chunk.js","mappings":"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","sources":["components/MoviesList/MoviesList.js","webpack://react-homework-template/./src/components/SearchMovies/SearchMovies.module.css?b223","components/SearchMovies/SearchMovies.js","components/pages/Movies.js","services/fetchApi.js"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <ul>\n      {movies.map(movie => (\n        <li\n          key={movie.id}\n          to={`/movies/:${movie.id}`}\n          state={{ from: location }}\n        >\n          <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n            {movie.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"input\":\"SearchMovies_input__1c5BI\",\"button\":\"SearchMovies_button__tDOhz\"};","import { useState } from 'react';\nimport css from '../SearchMovies/SearchMovies.module.css';\n\nconst SearchMovies = ({ onSubmit, onChange, value }) => {\n  const [queryName, setQueryName] = useState('');\n\n  const reset = () => {\n    setQueryName('');\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    onSubmit(queryName);\n    reset();\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        className={css.input}\n        value={value}\n        onChange={e => onChange(e.target.value)}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n      />\n\n      <button className={css.button} type=\"submit\">\n        search\n      </button>\n    </form>\n  );\n};\n\nexport default SearchMovies;\n","import MoviesList from 'components/MoviesList/MoviesList';\nimport SearchMovies from 'components/SearchMovies/SearchMovies';\nimport React, { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport { getMoviesByName } from 'services/fetchApi';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [queryName, setQueryName] = useState('');\n  // const movies = getMoviesByName();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const movieName = searchParams.get('title') ?? '';\n  const location = useLocation();\n\n  // const visibleMovie = movies.filter(movie =>\n  //   movie.title.toLowerCase().includes(movieName.toLowerCase())\n  // );\n\n  const updateQueryString = title => {\n    const nextParams = title !== '' ? { title } : {};\n    setSearchParams(nextParams);\n  };\n\n  useEffect(() => {\n    const searchMovies = async () => {\n      try {\n        const data = await getMoviesByName(queryName);\n        setMovies(data.results);\n      } catch (error) {\n        console.error('Error searching movies:', error);\n      }\n    };\n\n    searchMovies();\n  }, [queryName]);\n\n  useEffect(() => {\n    const initialSearchParams = new URLSearchParams(window.location.search);\n    const initialMovieName = initialSearchParams.get('title') || '';\n    setQueryName(initialMovieName);\n  }, []);\n\n  const onSubmit = title => {\n    // setMovies([]);\n    setQueryName(title);\n  };\n  return (\n    <>\n      <SearchMovies\n        value={movieName}\n        onSubmit={onSubmit}\n        onChange={updateQueryString}\n      />\n      {/* <ul>\n        {movies.map(movie => (\n          <li key={movie.id}>\n            <Link to={`/movies/${movie.id}`}>{movie.title}</Link>\n          </li>\n        ))}\n      </ul> */}\n      <MoviesList movies={movies} path=\"\" state={{ from: location }} />\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization:\n      'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZDhiMzA3Yjc3Nzc0MWQwN2QwZTg4NTgzMzkyMWE4NCIsInN1YiI6IjY0OTcyMmRlYjM0NDA5MDBlMjcxYWNkYyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.-nGnsxic-Eqjb3RquRboL6o3Q58xkv1131q1IZQJtUA',\n  },\n};\n\nexport const getTrending = async () => {\n  const response = await axios.get(\n    `${BASE_URL}trending/movie/day?language=en-US`,\n    options\n  );\n  const data = response.data;\n  return data;\n};\n\nexport const getMovieDetails = async movieId => {\n  const response = await axios.get(`${BASE_URL}movie/${movieId}`, options);\n  const data = response.data;\n  return data;\n};\n\nexport const getMovieCast = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/credits`,\n    options\n  );\n  const data = response.data;\n  return data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}movie/${movieId}/reviews`,\n    options\n  );\n  const data = response.data;\n  return data;\n};\n\nexport const getMoviesByName = async queryName => {\n  const response = await axios.get(\n    `${BASE_URL}search/movie?query=${queryName}&page=1`,\n    options\n  );\n  const data = response.data;\n  return data;\n};\n"],"names":["movies","location","useLocation","map","movie","to","id","state","from","title","onSubmit","onChange","value","useState","queryName","setQueryName","event","preventDefault","className","css","e","target","type","autoComplete","autoFocus","placeholder","setMovies","useSearchParams","searchParams","setSearchParams","movieName","get","useEffect","searchMovies","getMoviesByName","data","results","console","error","initialMovieName","URLSearchParams","window","search","MoviesList","path","BASE_URL","options","method","headers","accept","Authorization","getTrending","axios","response","getMovieDetails","movieId","getMovieCast","getMovieReviews"],"sourceRoot":""}